<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raj Mobile & TV Repairing | Premium Service</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <style>
        :root { 
            --primary: #2563eb; 
            --accent: #f59e0b; 
            --dark: #0f172a; 
            --light: #f8fafc; 
            --white: #ffffff;
            --glass: rgba(255, 255, 255, 0.8);
            --shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }
        body { background: var(--light); color: var(--dark); overflow-x: hidden; }
        
        /* Smooth Scroll */
        html { scroll-behavior: smooth; }

        /* Loader */
        #loader { position: fixed; inset: 0; background: var(--white); display: none; flex-direction: column; justify-content: center; align-items: center; z-index: 10000; }
        .spinner { width: 50px; height: 50px; border: 4px solid #e2e8f0; border-top: 4px solid var(--primary); border-radius: 50%; animation: spin 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Navbar Customization */
        nav { background: var(--glass); backdrop-filter: blur(10px); padding: 15px 8%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid rgba(0,0,0,0.05); }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .nav-links { display: flex; gap: 20px; align-items: center; }
        .btn-call { background: var(--primary); color: white; padding: 8px 18px; border-radius: 50px; text-decoration: none; font-weight: 600; transition: 0.3s; box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3); }

        /* Hero Section */
        .hero { padding: 100px 8% 60px; text-align: center; background: radial-gradient(circle at top right, #dbeafe, transparent), radial-gradient(circle at bottom left, #fff7ed, transparent); }
        .hero h1 { font-size: 3.5rem; font-weight: 800; line-height: 1.1; margin-bottom: 20px; color: var(--dark); }
        .hero p { font-size: 1.2rem; color: #64748b; max-width: 600px; margin: 0 auto 30px; }
        .hero-badge { background: #dcfce7; color: #166534; padding: 6px 15px; border-radius: 50px; font-size: 0.8rem; font-weight: 700; text-transform: uppercase; margin-bottom: 15px; display: inline-block; }

        /* Professional Cards */
        section { padding: 80px 8%; }
        .section-title { text-align: center; margin-bottom: 50px; }
        .section-title h2 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; }
        .service-card { background: var(--white); border-radius: 20px; overflow: hidden; transition: 0.4s; border: 1px solid rgba(0,0,0,0.05); position: relative; }
        .service-card:hover { transform: translateY(-10px); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); }
        .card-img-wrapper { position: relative; overflow: hidden; height: 240px; }
        .card-img-wrapper img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .service-card:hover .card-img-wrapper img { scale: 1.1; }
        .card-badge { position: absolute; top: 15px; right: 15px; background: var(--primary); color: white; padding: 4px 12px; border-radius: 50px; font-size: 0.75rem; font-weight: 600; }
        
        .card-body { padding: 25px; }
        .card-body h3 { font-size: 1.4rem; margin-bottom: 10px; }
        .card-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid #f1f5f9; }
        .price-tag { font-size: 1.25rem; font-weight: 800; color: var(--primary); }
        .book-btn { background: #16a34a; color: white; padding: 8px 15px; border-radius: 8px; text-decoration: none; font-size: 0.9rem; font-weight: 600; }

        /* Stats Section */
        .stats-bar { background: var(--dark); color: white; padding: 50px 8%; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; text-align: center; border-radius: 30px; margin: 0 8%; }
        .stat-item h3 { font-size: 2.5rem; color: var(--accent); }

        /* Admin Professional Styling */
        #admin-view { display: none; padding: 40px 5%; background: #f1f5f9; min-height: 100vh; }
        .admin-sidebar { background: white; padding: 30px; border-radius: 20px; box-shadow: var(--shadow); }
        .form-control { width: 100%; padding: 12px 15px; border: 1.5px solid #e2e8f0; border-radius: 10px; margin-top: 5px; font-size: 1rem; outline: none; transition: 0.3s; }
        .form-control:focus { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1); }
        .btn-save { background: var(--primary); color: white; border: none; padding: 15px; border-radius: 10px; width: 100%; font-weight: 700; cursor: pointer; margin-top: 20px; }

        @media (max-width: 768px) {
            .hero h1 { font-size: 2.2rem; }
            nav { padding: 15px 5%; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>

<div id="loader"><div class="spinner"></div><p id="l-text" style="margin-top:15px; font-weight: 600;">System Optimizing...</p></div>

<div id="public-ui">
    <nav>
        <div class="logo"><i class="fas fa-microchip"></i> <span id="nav-shop-name">Raj Repairing</span></div>
        <div class="nav-links">
            <a href="#services" style="text-decoration:none; color:var(--dark); font-weight:600;">Services</a>
            <a href="#gallery" style="text-decoration:none; color:var(--dark); font-weight:600;">Gallery</a>
            <a href="#admin" class="btn-call" style="background:#64748b;"><i class="fas fa-lock"></i> Admin</a>
        </div>
        <a href="tel:" id="nav-call" class="btn-call"><i class="fas fa-phone-alt"></i> Call Now</a>
    </nav>

    <header class="hero">
        <span class="hero-badge">Certified Technicians</span>
        <h1 id="v-name">Professional Electronics Repair Studio</h1>
        <p id="v-tag">Expert repair solutions for Mobiles, LED TVs, and Gadgets with 100% satisfaction guarantee.</p>
        <div style="display:flex; gap:15px; justify-content:center;">
            <a href="#services" class="btn-call" style="padding: 15px 30px;">Explore Services</a>
            <a href="#contact" class="btn-call" style="padding: 15px 30px; background:white; color:var(--dark); border: 1px solid #ddd;">Contact Us</a>
        </div>
    </header>

    <div class="stats-bar">
        <div class="stat-item"><h3>10+</h3><p>Years Experience</p></div>
        <div class="stat-item"><h3>5k+</h3><p>Happy Clients</p></div>
        <div class="stat-item"><h3>100%</h3><p>Genuine Parts</p></div>
        <div class="stat-item"><h3>24h</h3><p>Quick Return</p></div>
    </div>
    
    <section id="services">
        <div class="section-title">
            <h2>Our Specialist Services</h2>
            <p>We use high-tech tools to fix your premium devices.</p>
        </div>
        <div class="grid" id="s-container"></div>
    </section>

    <section id="gallery" style="background: #fff;">
        <div class="section-title"><h2>Service Gallery</h2></div>
        <div class="grid" id="g-container" style="grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));"></div>
    </section>

    <section id="contact">
        <div style="background:var(--dark); color:white; padding:60px; border-radius:30px; text-align:center; position:relative; overflow:hidden;">
            <div style="position:relative; z-index:2">
                <h2 style="font-size:2.5rem; margin-bottom:20px;">Ready to fix your device?</h2>
                <p id="v-addr" style="opacity:0.8; margin-bottom:30px; font-size:1.1rem;"></p>
                <div style="display:flex; gap:20px; justify-content:center; flex-wrap:wrap;">
                    <a href="#" id="v-wa" class="btn-call" style="background:#16a34a; padding:15px 40px; font-size:1.1rem;"><i class="fab fa-whatsapp"></i> Message on WhatsApp</a>
                    <a href="#" id="v-map" target="_blank" class="btn-call" style="background:#ea4335; padding:15px 40px; font-size:1.1rem;"><i class="fas fa-map-marker-alt"></i> Get Directions</a>
                </div>
            </div>
        </div>
    </section>

    <footer style="text-align:center; padding: 60px 8%; background: #f8fafc; border-top: 1px solid #e2e8f0;">
        <div class="logo" style="justify-content:center; margin-bottom:20px;"><i class="fas fa-microchip"></i> <span id="f-name"></span></div>
        <p style="color:#64748b;">Providing world-class repair services since 2015.</p>
        <div style="margin:20px 0; font-size:1.5rem; display:flex; gap:20px; justify-content:center; color:var(--primary);">
            <i class="fab fa-facebook"></i> <i class="fab fa-instagram"></i> <i class="fab fa-google"></i>
        </div>
        <p style="opacity: 0.5; font-size: 0.8rem;">&copy; 2026 Professional Repair Hub. Developed for Excellence.</p>
    </footer>
</div>

<div id="admin-view">
    <div style="max-width: 1000px; margin: 0 auto;">
        <div class="admin-sidebar" id="admin-auth" style="max-width:400px; margin: 100px auto;">
            <h2 style="text-align:center; margin-bottom:25px;"><i class="fas fa-user-shield"></i> Admin Login</h2>
            <div class="form-group">
                <label style="font-weight:600;">Security Key</label>
                <input type="password" id="adm-pass" class="form-control" placeholder="••••••••">
            </div>
            <button onclick="doLogin()" class="btn-save">Unlock Dashboard</button>
            <button onclick="window.location.hash=''" style="background:none; border:none; width:100%; margin-top:15px; cursor:pointer; color:#64748b;">Back to Website</button>
        </div>

        <div id="admin-dash" style="display:none">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
                <h1><i class="fas fa-tachometer-alt"></i> Management Console</h1>
                <button onclick="window.location.hash=''" class="btn-call" style="background:var(--dark)">Logout</button>
            </div>

            <div style="display:grid; grid-template-columns: 1fr 2fr; gap:30px;">
                <div class="admin-sidebar">
                    <h3 style="margin-bottom:20px; border-bottom:2px solid var(--primary); padding-bottom:10px;">Shop Identity</h3>
                    <div class="form-group"><label>Business Name</label><input type="text" id="e-name" class="form-control"></div>
                    <div class="form-group"><label>Catchy Tagline</label><input type="text" id="e-tag" class="form-control"></div>
                    <div class="form-group"><label>Shop Address</label><textarea id="e-addr" class="form-control" rows="3"></textarea></div>
                    <div class="form-group"><label>WhatsApp (with 91)</label><input type="text" id="e-phone" class="form-control"></div>
                    <button onclick="saveSettings()" class="btn-save">Update Website Info</button>
                </div>

                <div class="admin-sidebar">
                    <h3 style="margin-bottom:20px; border-bottom:2px solid var(--primary); padding-bottom:10px;">Services & Gallery</h3>
                    
                    <div style="background:#f8fafc; padding:20px; border-radius:15px; margin-bottom:20px;">
                        <h4>Add New Service</h4>
                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:15px;">
                            <input type="text" id="ns-title" class="form-control" placeholder="Service Name">
                            <input type="text" id="ns-price" class="form-control" placeholder="Price/Warranty">
                        </div>
                        <input type="file" id="ns-img" class="form-control" style="margin-top:10px;">
                        <button onclick="addS()" class="btn-save" style="background:#16a34a;">Upload Service</button>
                    </div>

                    <div style="background:#f8fafc; padding:20px; border-radius:15px;">
                        <h4>Gallery Update</h4>
                        <input type="file" id="ng-img" class="form-control" style="margin-top:10px;">
                        <button onclick="addG()" class="btn-save" style="background:#16a34a;">Add to Gallery</button>
                    </div>
                </div>
            </div>

            <div class="admin-sidebar" style="margin-top:30px;">
                <h3>Current Services</h3>
                <div id="adm-s-list" style="margin-top:20px; display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:15px;"></div>
            </div>
        </div>
    </div>
</div>

<script>
    // Configuration - Replace BLOB_URL with your own if needed
    const BLOB_URL = 'https://api.jsonblob.com/api/jsonblob/019b87d3-147d-7614-90c4-976bf75a86cc';
    const IMGBB_KEY = '292bdceef36589185006739d1eb1774c';
    
    let storeData = { 
        name: "Raj Mobile & TV Repairing Center", 
        tag: "Premium Electronic Repair Solutions", 
        addr: "Near Main Square, Sector 4, Digital City", 
        phone: "919999999999", 
        services: [], 
        gallery: [] 
    };

    async function init() {
        showL(true, "Loading Business Data...");
        try {
            const r = await fetch(BLOB_URL);
            if(r.ok) { 
                const d = await r.json(); 
                if(d.name) storeData = d; 
            }
        } catch(e) { console.error("Data fetch error"); }
        renderUI();
        handleRoute();
        showL(false);
    }

    function renderUI() {
        const d = storeData;
        document.getElementById('nav-shop-name').innerText = d.name;
        document.getElementById('v-name').innerText = d.name;
        document.getElementById('f-name').innerText = d.name;
        document.getElementById('v-tag').innerText = d.tag;
        document.getElementById('v-addr').innerText = d.addr;
        document.getElementById('v-wa').href = `https://wa.me/${d.phone}?text=Hi, I want to inquire about a repair.`;
        document.getElementById('nav-call').href = `tel:+${d.phone}`;
        document.getElementById('v-map').href = `https://www.google.com/maps/search/${encodeURIComponent(d.addr)}`;
        
        // Services
        const sCont = document.getElementById('s-container');
        sCont.innerHTML = d.services.length ? d.services.map((s,i) => `
            <div class="service-card">
                <div class="card-img-wrapper">
                    <span class="card-badge">Genuine Parts</span>
                    <img src="${s.img}" alt="${s.title}">
                </div>
                <div class="card-body">
                    <h3>${s.title}</h3>
                    <p style="color:#64748b; font-size:0.9rem;">Complete diagnostic and professional repair with warranty.</p>
                    <div class="card-footer">
                        <span class="price-tag">${s.price}</span>
                        <a href="https://wa.me/${d.phone}?text=Service Inquiry: ${s.title}" class="book-btn">Book Now</a>
                    </div>
                </div>
            </div>
        `).join('') : '<p style="grid-column:1/-1; text-align:center; opacity:0.5;">No services listed yet.</p>';

        // Gallery
        const gCont = document.getElementById('g-container');
        gCont.innerHTML = d.gallery.map(img => `
            <div class="service-card" style="height:200px;">
                <img src="${img}" style="width:100%; height:100%; object-fit:cover;">
            </div>
        `).join('');

        // Admin List
        document.getElementById('adm-s-list').innerHTML = d.services.map((s,i)=>`
            <div style="background:#fff; padding:10px; border-radius:10px; position:relative; border:1px solid #ddd;">
                <img src="${s.img}" style="width:100%; height:100px; object-fit:cover; border-radius:5px;">
                <p style="font-weight:700; font-size:0.8rem; margin-top:5px;">${s.title}</p>
                <button onclick="delS(${i})" style="position:absolute; top:5px; right:5px; background:red; color:white; border:none; border-radius:50%; width:25px; height:25px; cursor:pointer;">&times;</button>
            </div>
        `).join('');
    }

    async function uploadToImgBB(fileInput) {
        const file = fileInput.files[0];
        if(!file) return null;
        const formData = new FormData();
        formData.append('image', file);
        try {
            const r = await fetch(`https://api.imgbb.com/1/upload?key=${IMGBB_KEY}`, { method: 'POST', body: formData });
            const res = await r.json();
            return res.success ? res.data.url : null;
        } catch(e) { return null; }
    }

    async function addS() {
        const t = document.getElementById('ns-title').value;
        const p = document.getElementById('ns-price').value;
        const f = document.getElementById('ns-img');
        if(!t || !p || !f.files[0]) return alert("Please fill all fields!");
        showL(true, "Uploading Image...");
        const url = await uploadToImgBB(f);
        if(url) {
            storeData.services.push({title:t, price:p, img:url});
            await sync();
            f.value = ''; document.getElementById('ns-title').value = ''; document.getElementById('ns-price').value = '';
        }
        showL(false);
    }

    async function addG() {
        const f = document.getElementById('ng-img');
        if(!f.files[0]) return alert("Select photo!");
        showL(true, "Adding to Gallery...");
        const url = await uploadToImgBB(f);
        if(url) { storeData.gallery.push(url); await sync(); f.value = ''; }
        showL(false);
    }

    async function sync() {
        showL(true, "Syncing...");
        await fetch(BLOB_URL, { method: 'PUT', headers: {'Content-Type':'application/json'}, body: JSON.stringify(storeData)});
        renderUI();
        showL(false);
    }

    function saveSettings() {
        storeData.name = document.getElementById('e-name').value;
        storeData.tag = document.getElementById('e-tag').value;
        storeData.addr = document.getElementById('e-addr').value;
        storeData.phone = document.getElementById('e-phone').value;
        sync();
    }

    function delS(i) { if(confirm("Remove?")) { storeData.services.splice(i,1); sync(); } }

    function doLogin() {
        if(document.getElementById('adm-pass').value === 'admin123') {
            document.getElementById('admin-auth').style.display='none';
            document.getElementById('admin-dash').style.display='block';
            document.getElementById('e-name').value = storeData.name;
            document.getElementById('e-tag').value = storeData.tag;
            document.getElementById('e-addr').value = storeData.addr;
            document.getElementById('e-phone').value = storeData.phone;
        } else { alert("Wrong Password!"); }
    }

    function handleRoute() { 
        const isAdm = window.location.hash === '#admin';
        document.getElementById('public-ui').style.display = isAdm ? 'none' : 'block';
        document.getElementById('admin-view').style.display = isAdm ? 'block' : 'none';
    }

    function showL(s, t) { 
        document.getElementById('loader').style.display = s ? 'flex' : 'none'; 
        document.getElementById('l-text').innerText = t; 
    }

    window.onhashchange = handleRoute;
    window.onload = init;
</script>
</body>
</html>
